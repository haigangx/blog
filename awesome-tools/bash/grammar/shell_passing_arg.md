# shell传递参数

## 一、脚本内获取参数

脚本内获取参数的方式是`$n`，n代表一个数字，0为执行的文件名，1为第一个参数，2为第二个参数，以此类推...大于等于10的参数，需要加大括号，如`${10}`

## 二、脚本内与参数相关的其他特殊符号

| 参数处理 | 说明 |
| --- | --- |
| $# | 传递到脚本的参数个数 |
| $* | 以单字符串形式显示所有参数, 同$@ |
| $$ | 脚本运行的当前进程ID号 |
| $! | 后台运行的最后一个进程的ID号 |
| $- | 显示shell使用的当前选项 |
| $? | 显示最后命令的退出状态，0表示没有错误 |

### 1. `$*`和`$@`的区别：

- 相同点：都是引用所有参数
- 不同点：只有再双引号中体现出来。假设再脚本运行时写了三个参数1,2,3，则"*"等价于"1 2 3"(传递了一个参数)，而"@"等价于"1" "2" "3"(传递了三个参数)

执行下面脚本：
```
for i in "$*"; do 
    echo $i
done

for i in "$@"; do
    echo $i
done
```
输出结果如下：
```
1 2 3
1
2
3
```

## 三、实例

脚本：
```
#!/bin/bash

echo "shell传递参数";
echo "执行的文件名：$0";
echo "第一个参数：$1";
echo "第二个参数：$2";
echo "第三个参数：$3";

echo "参数个数：$#";
echo "*输出所有参数：$*";
echo "@输出所有参数：$@";
echo "脚本运行的当前进程ID号：$$";
echo "后台运行的最后一个进程的ID号：$!";
echo "显示shell使用的当前选项：$-";
echo "显示命令的退出状态：$?";
```

执行脚本，得到以下结果：
```
./test.sh arg1 arg2 arg3 arg4

shell传递参数
执行的文件名：./test.sh
第一个参数：arg1
第二个参数：arg2
第三个参数：arg3
参数个数：4
*输出所有参数：arg1 arg2 arg3 arg4
@输出所有参数：arg1 arg2 arg3 arg4
脚本运行的当前进程ID号：11085
后台运行的最后一个进程的ID号：
显示shell使用的当前选项：hB
显示命令的退出状态：0
```
